{% extends "interest_rate_models/base.html" %}
{% load crispy_forms_tags %}

{% block sub_page_content %}
    <h3>Valuing European Option using the Heston Model</h3>
    <p class="text-muted">Compare the price of a European option calculated with the standard Black-Scholes-Merton model versus the more advanced Heston stochastic volatility model.</p>
    <hr>
    <div class="row">
        <div class="col-md-5">
            <div class="card card-body">
                <form method="post">
                    {% csrf_token %}
                    {{ form|crispy }}
                    <button type="submit" class="btn btn-primary mt-3 w-100">Calculate Prices</button>
                </form>
            </div>
        </div>
        <div class="col-md-7">
            <div class="card">
                <div class="card-header font-weight-bold">Model Comparison</div>
                <div class="card-body">
                    {% if results %}
                        <table class="table table-bordered text-center">
                            <thead class="thead-light"><tr><th>Model</th><th>Option Price</th></tr></thead>
                            <tbody>
                                <tr><td>Black-Scholes-Merton</td><td>{{ results.bsm_price }}</td></tr>
                                <tr><td>Heston</td><td>{{ results.heston_price }}</td></tr>
                                <tr class="table-info"><td><strong>Difference (BSM - Heston)</strong></td><td><strong>{{ results.difference }}</strong></td></tr>
                            </tbody>
                        </table>
                    {% else %}
                        <div class="alert alert-info">Enter parameters and click "Calculate Prices".</div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}